{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React, { useEffect } from \"react\";\nimport * as Location from \"expo-location\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport ShopStack from \"./ShopStack\";\nimport CartStack from \"./CartStack\";\nimport ListAddress from \"../Screens/ListAddress\";\nimport ListAddress2 from \"../Screens/ListAddress2\";\nimport MyProfile from \"../Screens/MyProfile\";\nimport LocationSelector from \"../Screens/LocationSelector\";\nimport ImageSelector from \"../Screens/ImageSelector\";\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\nimport { colors } from \"../Global/Colors\";\nimport { Ionicons, Entypo, MaterialCommunityIcons, AntDesign, FontAwesome, FontAwesome5, MaterialIcons } from \"@expo/vector-icons\";\nimport OrderStack from \"./OrderStack\";\nimport AuthStack from \"./AuthStack\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport MyProfileStack from \"./MyProfileStack\";\nimport { getSession } from \"../SQLite\";\nimport InicialStack from \"./InicialStack\";\nimport { setUser } from \"../features/User/userSlice\";\nimport Home from \"../Screens/Home\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Tab = createBottomTabNavigator();\nvar Navigator = function Navigator() {\n  var _useSelector = useSelector(function (state) {\n      return state.userReducer.value;\n    }),\n    email = _useSelector.email,\n    localId = _useSelector.localId;\n  var dispatch = useDispatch();\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      try {\n        var _yield$Location$reque = yield Location.requestForegroundPermissionsAsync(),\n          status = _yield$Location$reque.status;\n        if (status !== \"granted\") {\n          setError(\"Permission to access location was denied\");\n          return;\n        }\n        console.log('Getting session...');\n        var session = yield getSession();\n        console.log('Sesion: ');\n        console.log(session);\n        if (session != null && session.rows.length) {\n          var user = session.rows._array[0];\n          dispatch(setUser(user));\n        }\n      } catch (error) {\n        console.log('Error getting session');\n        console.log(error.message);\n      }\n    })();\n  }, []);\n  return _jsx(SafeAreaView, {\n    style: styles.container,\n    children: _jsx(NavigationContainer, {\n      children: email ? _jsxs(Tab.Navigator, {\n        screenOptions: {\n          headerShown: false,\n          tabBarShowLabel: false,\n          tabBarStyle: styles.tabBar\n        },\n        children: [_jsx(Tab.Screen, {\n          name: \"MyProfile\",\n          component: MyProfileStack,\n          options: {\n            tabBarIcon: function tabBarIcon(_ref2) {\n              var focused = _ref2.focused;\n              return _jsx(View, {\n                style: styles.item,\n                children: _jsx(Ionicons, {\n                  name: \"person-circle-outline\",\n                  size: focused ? 54 : 34,\n                  color: focused ? colors.color5 : colors.colorgris\n                })\n              });\n            }\n          }\n        }), _jsx(Tab.Screen, {\n          name: \"ListAddress\",\n          component: ListAddress,\n          options: {\n            tabBarIcon: function tabBarIcon(_ref3) {\n              var focused = _ref3.focused;\n              return _jsx(View, {\n                style: styles.item,\n                children: _jsx(AntDesign, {\n                  name: \"car\",\n                  size: focused ? 54 : 34,\n                  color: focused ? colors.color5 : colors.colorgris\n                })\n              });\n            }\n          }\n        }), _jsx(Tab.Screen, {\n          name: \"ListAddress2\",\n          component: ListAddress2,\n          options: {\n            tabBarIcon: function tabBarIcon(_ref4) {\n              var focused = _ref4.focused;\n              return _jsx(View, {\n                style: styles.item,\n                children: _jsx(FontAwesome5, {\n                  name: \"motorcycle\",\n                  size: focused ? 54 : 34,\n                  color: focused ? colors.color5 : colors.colorgris\n                })\n              });\n            }\n          }\n        })]\n      }) : _jsx(AuthStack, {})\n    })\n  });\n};\nexport default Navigator;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginBottom: 5,\n    paddingTop: Platform.OS === \"android\" ? StatusBar.currentHeight : 0\n  },\n  tabBar: {\n    backgroundColor: colors.colorblanco,\n    shadowColor: \"black\",\n    height: 60\n  }\n});","map":{"version":3,"names":["React","useEffect","Location","NavigationContainer","StatusBar","ShopStack","CartStack","ListAddress","ListAddress2","MyProfile","LocationSelector","ImageSelector","createBottomTabNavigator","colors","Ionicons","Entypo","MaterialCommunityIcons","AntDesign","FontAwesome","FontAwesome5","MaterialIcons","OrderStack","AuthStack","useDispatch","useSelector","MyProfileStack","getSession","InicialStack","setUser","Home","jsx","_jsx","jsxs","_jsxs","Tab","Navigator","_useSelector","state","userReducer","value","email","localId","dispatch","_asyncToGenerator","_yield$Location$reque","requestForegroundPermissionsAsync","status","setError","console","log","session","rows","length","user","_array","error","message","SafeAreaView","style","styles","container","children","screenOptions","headerShown","tabBarShowLabel","tabBarStyle","tabBar","Screen","name","component","options","tabBarIcon","_ref2","focused","View","item","size","color","color5","colorgris","_ref3","_ref4","StyleSheet","create","flex","marginBottom","paddingTop","Platform","OS","currentHeight","backgroundColor","colorblanco","shadowColor","height"],"sources":["C:/Users/federico.currao/Desktop/OtrosFC/mycar/Where-Is-My-Car---App-Android/src/Navigation/Navigator.jsx"],"sourcesContent":["import {\r\n    Platform,\r\n    Pressable,\r\n    SafeAreaView,\r\n    StyleSheet,\r\n    Text,\r\n    View,\r\n} from \"react-native\";\r\nimport React, { useEffect } from \"react\";\r\n\r\nimport * as Location from \"expo-location\";\r\nimport { NavigationContainer } from \"@react-navigation/native\";\r\nimport { StatusBar } from \"react-native\";\r\nimport ShopStack from \"./ShopStack\";\r\nimport CartStack from \"./CartStack\"; \r\nimport ListAddress from \"../Screens/ListAddress\";\r\nimport ListAddress2 from \"../Screens/ListAddress2\";\r\nimport MyProfile from \"../Screens/MyProfile\";\r\nimport LocationSelector from \"../Screens/LocationSelector\";\r\nimport ImageSelector from \"../Screens/ImageSelector\";\r\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\r\nimport { colors } from \"../Global/Colors\";\r\nimport {\r\n    Ionicons,\r\n    Entypo,\r\n    MaterialCommunityIcons,\r\n    AntDesign,\r\n    FontAwesome,\r\n    FontAwesome5,\r\n    MaterialIcons, \r\n\r\n} from \"@expo/vector-icons\";\r\nimport OrderStack from \"./OrderStack\";\r\nimport AuthStack from \"./AuthStack\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport MyProfileStack from \"./MyProfileStack\";\r\nimport { getSession } from \"../SQLite\";\r\nimport InicialStack from './InicialStack'\r\nimport { setUser } from \"../features/User/userSlice\";\r\nimport Home from \"../Screens/Home\";\r\n\r\nconst Tab = createBottomTabNavigator();\r\n\r\nconst Navigator = () => {\r\n     const { email, localId } = useSelector((state) => state.userReducer.value); \r\n    // let email = 'f@f.com'\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try { \r\n                    let { status } = await Location.requestForegroundPermissionsAsync();\r\n                    if (status !== \"granted\") {\r\n                        setError(\"Permission to access location was denied\");\r\n                        return;\r\n                    }\r\n                console.log('Getting session...');\r\n                const session = await getSession()\r\n                console.log('Sesion: ');\r\n                console.log(session);\r\n                if (session?.rows.length) {\r\n                    const user = session.rows._array[0]\r\n                    dispatch(setUser(user))\r\n                }\r\n            } catch (error) {\r\n                console.log('Error getting session');\r\n                console.log(error.message);\r\n            }\r\n        })()\r\n    }, [])\r\n\r\n    return (\r\n        <SafeAreaView style={styles.container}>\r\n            <NavigationContainer>\r\n                {email ? (\r\n                    <Tab.Navigator\r\n                        screenOptions={{\r\n                            headerShown: false,\r\n                            tabBarShowLabel: false,\r\n                            tabBarStyle: styles.tabBar,\r\n                        }}\r\n                    >\r\n                         \r\n\r\n                      <Tab.Screen\r\n                            name=\"MyProfile\"\r\n                            component={MyProfileStack}\r\n                            options={{\r\n                                tabBarIcon: ({ focused }) => {\r\n                                    return (\r\n                                        <View style={styles.item}>\r\n                                            <Ionicons\r\n                                                name=\"person-circle-outline\"\r\n                                                size={\r\n                                                    focused ? 54 : 34\r\n                                                }\r\n                                                color={\r\n                                                    focused ? colors.color5 : colors.colorgris\r\n                                                }\r\n                                            />\r\n                                        </View>\r\n                                    );\r\n                                },\r\n                            }}\r\n                        />\r\n\r\n<Tab.Screen\r\n                            name=\"ListAddress\"\r\n                            component={ListAddress}\r\n                            options={{\r\n                                tabBarIcon: ({ focused }) => {\r\n                                    return (\r\n                                        <View style={styles.item}>\r\n                                           <AntDesign  \r\n                                                name=\"car\"\r\n                                                size={\r\n                                                    focused ? 54 : 34\r\n                                                }\r\n                                                color={\r\n                                                    focused ? colors.color5 : colors.colorgris\r\n                                                }\r\n                                            />\r\n                                        </View>\r\n                                    );\r\n                                },\r\n                            }}\r\n                        />\r\n\r\n<Tab.Screen\r\n                            name=\"ListAddress2\"\r\n                            component={ListAddress2}\r\n                            options={{\r\n                                tabBarIcon: ({ focused }) => {\r\n                                    return (\r\n                                        <View style={styles.item}>\r\n                                           <FontAwesome5  \r\n                                                name=\"motorcycle\"\r\n                                                size={\r\n                                                    focused ? 54 : 34\r\n                                                }\r\n                                                color={\r\n                                                    focused ? colors.color5 : colors.colorgris\r\n                                                }\r\n                                            />\r\n                                        </View>\r\n                                    );\r\n                                },\r\n                            }}\r\n                        />\r\n\r\n\r\n\r\n\r\n                    </Tab.Navigator>\r\n                ) : (\r\n                    <AuthStack />\r\n                )}\r\n            </NavigationContainer>\r\n        </SafeAreaView>\r\n    );\r\n};\r\n\r\nexport default Navigator;\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        marginBottom: 5,\r\n        paddingTop: Platform.OS === \"android\" ? StatusBar.currentHeight : 0,\r\n    },\r\n    tabBar: {\r\n        backgroundColor: colors.colorblanco,\r\n        shadowColor: \"black\",\r\n        height: 60,\r\n    },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}