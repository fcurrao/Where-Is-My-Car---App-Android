{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React from 'react';\nimport CartItem from \"../Components/CartItem\";\nimport { useSelector } from 'react-redux';\nimport { usePostCartMutation } from \"../Services/shopServices\";\nimport { useDispatch } from \"react-redux\";\nimport { removeCartItem } from \"../features/Cart/cartSlice\";\nimport { addOrder } from \"../features/Orders/orders\";\nimport { colors } from \"../Global/Colors\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Cart = function Cart() {\n  var _useSelector = useSelector(function (state) {\n      return state.cartReducer.value;\n    }),\n    CartData = _useSelector.items,\n    total = _useSelector.total,\n    updatedAt = _useSelector.updatedAt,\n    user = _useSelector.user;\n  var _usePostCartMutation = usePostCartMutation(),\n    _usePostCartMutation2 = _slicedToArray(_usePostCartMutation, 2),\n    triggerPostCart = _usePostCartMutation2[0],\n    result = _usePostCartMutation2[1];\n  var dispatch = useDispatch();\n  var numberOrder = Math.floor(Math.random() * 1000000);\n  var onConfirm = function onConfirm() {\n    triggerPostCart({\n      items: CartData,\n      total: total,\n      user: user,\n      numberOrder: numberOrder,\n      updatedAt: updatedAt\n    });\n    alert(\"ORDEN CONFIRMADA- GRACIAS POR COMPRAR\");\n    dispatch(addOrder({\n      CartData: CartData,\n      total: total,\n      numberOrder: numberOrder,\n      updatedAt: updatedAt\n    }));\n    dispatch(removeCartItem({}));\n  };\n  console.log(result);\n  return _jsx(View, {\n    style: styles.container,\n    children: total == null || total == 0 ? _jsx(_Fragment, {}) : _jsxs(_Fragment, {\n      children: [_jsx(FlatList, {\n        data: CartData,\n        keyExtractor: function keyExtractor(cartItem) {\n          return cartItem.id;\n        },\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return _jsx(CartItem, {\n            cartItem: item\n          });\n        }\n      }), _jsxs(View, {\n        style: styles.totalContainer,\n        children: [_jsx(Button, {\n          title: \"Confirm\",\n          onPress: onConfirm\n        }), _jsxs(Text, {\n          children: [\"Total: $\", total]\n        })]\n      })]\n    })\n  });\n};\nexport default Cart;\nvar styles = StyleSheet.create({\n  container: {\n    justifyContent: 'space-between',\n    flex: 1,\n    backgroundColor: colors.colorblanco\n  },\n  totalContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    alignItems: 'center',\n    paddingBottom: 20\n  }\n});","map":{"version":3,"names":["React","CartItem","useSelector","usePostCartMutation","useDispatch","removeCartItem","addOrder","colors","Fragment","_Fragment","jsx","_jsx","jsxs","_jsxs","Cart","_useSelector","state","cartReducer","value","CartData","items","total","updatedAt","user","_usePostCartMutation","_usePostCartMutation2","_slicedToArray","triggerPostCart","result","dispatch","numberOrder","Math","floor","random","onConfirm","alert","console","log","View","style","styles","container","children","FlatList","data","keyExtractor","cartItem","id","renderItem","_ref","item","totalContainer","Button","title","onPress","Text","StyleSheet","create","justifyContent","flex","backgroundColor","colorblanco","flexDirection","alignItems","paddingBottom"],"sources":["C:/Users/federico.currao/Desktop/OtrosFC/mycar/Where-Is-My-Car---App-Android/src/Screens/Cart.jsx"],"sourcesContent":["import { FlatList, Pressable, Button, StyleSheet, Text, View } from 'react-native'\r\nimport React from 'react'\r\nimport CartItem from '../Components/CartItem';\r\nimport { useSelector } from 'react-redux';\r\nimport { usePostCartMutation } from '../Services/shopServices'; \r\nimport { useDispatch } from \"react-redux\";\r\nimport { removeCartItem } from \"../features/Cart/cartSlice\";\r\nimport { addOrder } from \"../features/Orders/orders\";\r\n\r\nimport { colors } from \"../Global/Colors\";\r\n\r\nconst Cart = () => {\r\n    const {items: CartData, total, updatedAt, user} = useSelector(state => state.cartReducer.value)\r\n    const [triggerPostCart, result] = usePostCartMutation()\r\n\r\n    const dispatch = useDispatch()\r\n    let numberOrder =  Math.floor(Math.random() * 1000000);\r\n    const onConfirm = () => {\r\n        triggerPostCart({items: CartData, total, user, numberOrder,updatedAt})\r\n        alert(\"ORDEN CONFIRMADA- GRACIAS POR COMPRAR\") \r\n        \r\n                dispatch(addOrder({\r\n                    CartData , total , numberOrder, updatedAt\r\n                })) \r\n\r\n                dispatch(removeCartItem({ })) \r\n\r\n\r\n    }\r\n\r\n    console.log(result);\r\n\r\n    return (\r\n    <View style={styles.container}>  \r\n           {total == null || total == 0  ? (\r\n            <></>\r\n           ) : (<>\r\n             <FlatList\r\n            data={CartData}\r\n            keyExtractor={cartItem => cartItem.id}\r\n            renderItem={({item})=> {\r\n                return (\r\n                    <CartItem\r\n                        cartItem={item}\r\n                    />\r\n                )\r\n            }}\r\n        />\r\n        <View style={styles.totalContainer}> \r\n                <Button title=\"Confirm\"\r\n                          onPress={onConfirm}\r\n                      ></Button>\r\n          \r\n            <Text>Total: ${total}</Text>\r\n        </View>\r\n           </>)\r\n       } \r\n     \r\n    </View>\r\n  )\r\n}\r\n\r\nexport default Cart\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        justifyContent: 'space-between',\r\n        flex: 1,\r\n        backgroundColor: colors.colorblanco,\r\n    },\r\n    totalContainer: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-around',\r\n        alignItems: 'center',\r\n        paddingBottom: 20,\r\n    }\r\n})\r\n"],"mappings":";;;;;;;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ;AACf,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,mBAAmB;AAC5B,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,cAAc;AACvB,SAASC,QAAQ;AAEjB,SAASC,MAAM;AAA2B,SAAAC,QAAA,IAAAC,SAAA;AAAA,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAE1C,IAAMC,IAAI,GAAG,SAAPA,IAAIA,CAAA,EAAS;EACf,IAAAC,YAAA,GAAkDb,WAAW,CAAC,UAAAc,KAAK;MAAA,OAAIA,KAAK,CAACC,WAAW,CAACC,KAAK;IAAA,EAAC;IAAjFC,QAAQ,GAAAJ,YAAA,CAAfK,KAAK;IAAYC,KAAK,GAAAN,YAAA,CAALM,KAAK;IAAEC,SAAS,GAAAP,YAAA,CAATO,SAAS;IAAEC,IAAI,GAAAR,YAAA,CAAJQ,IAAI;EAC9C,IAAAC,oBAAA,GAAkCrB,mBAAmB,CAAC,CAAC;IAAAsB,qBAAA,GAAAC,cAAA,CAAAF,oBAAA;IAAhDG,eAAe,GAAAF,qBAAA;IAAEG,MAAM,GAAAH,qBAAA;EAE9B,IAAMI,QAAQ,GAAGzB,WAAW,CAAC,CAAC;EAC9B,IAAI0B,WAAW,GAAIC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,OAAO,CAAC;EACtD,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;IACpBP,eAAe,CAAC;MAACP,KAAK,EAAED,QAAQ;MAAEE,KAAK,EAALA,KAAK;MAAEE,IAAI,EAAJA,IAAI;MAAEO,WAAW,EAAXA,WAAW;MAACR,SAAS,EAATA;IAAS,CAAC,CAAC;IACtEa,KAAK,CAAC,uCAAuC,CAAC;IAEtCN,QAAQ,CAACvB,QAAQ,CAAC;MACda,QAAQ,EAARA,QAAQ;MAAGE,KAAK,EAALA,KAAK;MAAGS,WAAW,EAAXA,WAAW;MAAER,SAAS,EAATA;IACpC,CAAC,CAAC,CAAC;IAEHO,QAAQ,CAACxB,cAAc,CAAC,CAAE,CAAC,CAAC,CAAC;EAGzC,CAAC;EAED+B,OAAO,CAACC,GAAG,CAACT,MAAM,CAAC;EAEnB,OACAjB,IAAA,CAAC2B,IAAI;IAACC,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,EACtBrB,KAAK,IAAI,IAAI,IAAIA,KAAK,IAAI,CAAC,GAC3BV,IAAA,CAAAF,SAAA,IAAI,CAAC,GACDI,KAAA,CAAAJ,SAAA;MAAAiC,QAAA,GACH/B,IAAA,CAACgC,QAAQ;QACVC,IAAI,EAAEzB,QAAS;QACf0B,YAAY,EAAE,SAAAA,aAAAC,QAAQ;UAAA,OAAIA,QAAQ,CAACC,EAAE;QAAA,CAAC;QACtCC,UAAU,EAAE,SAAAA,WAAAC,IAAA,EAAW;UAAA,IAATC,IAAI,GAAAD,IAAA,CAAJC,IAAI;UACd,OACIvC,IAAA,CAACV,QAAQ;YACL6C,QAAQ,EAAEI;UAAK,CAClB,CAAC;QAEV;MAAE,CACL,CAAC,EACFrC,KAAA,CAACyB,IAAI;QAACC,KAAK,EAAEC,MAAM,CAACW,cAAe;QAAAT,QAAA,GAC3B/B,IAAA,CAACyC,MAAM;UAACC,KAAK,EAAC,SAAS;UACbC,OAAO,EAAEpB;QAAU,CACd,CAAC,EAEpBrB,KAAA,CAAC0C,IAAI;UAAAb,QAAA,GAAC,UAAQ,EAACrB,KAAK;QAAA,CAAO,CAAC;MAAA,CAC1B,CAAC;IAAA,CACF;EAAE,CAGL,CAAC;AAEX,CAAC;AAED,eAAeP,IAAI;AAEnB,IAAM0B,MAAM,GAAGgB,UAAU,CAACC,MAAM,CAAC;EAC7BhB,SAAS,EAAE;IACPiB,cAAc,EAAE,eAAe;IAC/BC,IAAI,EAAE,CAAC;IACPC,eAAe,EAAErD,MAAM,CAACsD;EAC5B,CAAC;EACDV,cAAc,EAAE;IACZW,aAAa,EAAE,KAAK;IACpBJ,cAAc,EAAE,cAAc;IAC9BK,UAAU,EAAE,QAAQ;IACpBC,aAAa,EAAE;EACnB;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}